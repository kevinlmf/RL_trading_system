cmake_minimum_required(VERSION 3.14)
project(cpp_trading)

set(CMAKE_CXX_STANDARD 17)

# ğŸ“Œ åŠ å…¥ pybind11 å­æ¨¡å—ï¼ˆä½ å·²æœ‰ pybind11/ ç›®å½•ï¼‰
add_subdirectory(pybind11)

# ğŸ“Œ åŒ…å«å¤´æ–‡ä»¶ç›®å½•
include_directories(include)

# ğŸ“¦ æ„å»º pybind11 æ¨¡å—ï¼ˆç»‘å®š + å®ç°ï¼‰
pybind11_add_module(cpp_trading MODULE
    bindings/main_bindings.cpp     # â¬…ï¸ PyBind11 ä¸»å…¥å£
    bindings/data_bindings.cpp     # â¬…ï¸ DataFeed Python ç»‘å®š
    bindings/order_bindings.cpp    # â¬…ï¸ OrderExecutor Python ç»‘å®š
    src/data_feed.cpp              # âœ… DataFeed C++ å®ç°
    src/order_executor.cpp         # âœ… OrderExecutor C++ å®ç°
)

# ğŸ§© ç”Ÿæˆ cpp_trading.soï¼Œè€Œä¸æ˜¯é»˜è®¤ Python é£æ ¼å‘½å
set_target_properties(cpp_trading PROPERTIES
    PREFIX ""
    SUFFIX ".so"
)





