cmake_minimum_required(VERSION 3.14)
project(cpp_trading)

set(CMAKE_CXX_STANDARD 17)

# ğŸ“Œ åŠ å…¥ pybind11 å­æ¨¡å—ï¼ˆä½ å·²æœ‰ pybind11/ ç›®å½•ï¼‰
add_subdirectory(pybind11)

# ğŸ“Œ åŒ…å«å¤´æ–‡ä»¶ç›®å½•
include_directories(include)

# ğŸ“¦ æ„å»º pybind11 æ¨¡å—ï¼ˆåˆå¹¶æ‰€æœ‰ç»‘å®šä¸ C++ æºæ–‡ä»¶ï¼‰
pybind11_add_module(cpp_trading MODULE
    bindings/main_bindings.cpp     # â¬…ï¸ PyBind11 ä¸»å…¥å£
    bindings/data_bindings.cpp     # â¬…ï¸ DataFeed
    bindings/order_bindings.cpp    # â¬…ï¸ OrderExecutor
    src/order_executor.cpp         # â¬…ï¸ OrderExecutor å®ç°
    # src/data_feed.cpp            # â¬…ï¸ è‹¥æœ‰ data_feed å®ç°ï¼Œä¹ŸåŠ ä¸Š
)

# ğŸ§© ç¦ç”¨é»˜è®¤ Python åç¼€å‘½åï¼ˆè®©æœ€ç»ˆè¾“å‡ºä¸º cpp_trading.soï¼‰
set_target_properties(cpp_trading PROPERTIES
    PREFIX ""
    SUFFIX ".so"
)




